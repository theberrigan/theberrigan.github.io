<h1>Ассемблер</h1>
MMX - коммерческое название SIMD.
SIMD - 64-битные регистры.
SSE (Streaming SIMD) (1999) - добавляет 8 128-битных регистра для float-чисел и новые инструкции для работы с этими регистрами.
SSE2 (2000) - добавляет в SSE поддержку double-чисел и новые инструкции.
SSE3 (2004) - новые инструкции для SSE.
SSSE3 и SSE4.1 (2006) - новые инструкции.
SSE4.2 (2008) - новые инструкции, в том числе для более эффективной обработки строк.
AVX (2011) - новый виток развития SIMD. Добавляет новые 256-битные регистры и инструкции с тремя операндами.
AVX2 (2013) - улучшения для AVX.
FMA (2013) - технология для более быстрого вычисления скалярного произведения
AVX-512 (2017) - добавляет новые 512-битные регистры.
CUDA

x86 - little-endian архитектура.

// -------------------------------------------------------------

Базовые типы:
Byte - 1 байт
Word - 2 байта
Doubleword - 4 байта
Quadword - 8 байт
Double Quadword - 16 байт

Базовый тип считается выровненным, если его адрес в памяти делится на количество байт в нём.
То есть, Quadword выровнен, если его адрес делится на 8.
x86 не требует выравнивания, но лучше всегда выравнивать для повышения производительности.

Все числовые типы представляются в компьютере за счёт базовых типов.

Базовый тип   Размер   Тип С/С++                     cstdint
-------------------------------------------------------------
Byte          8        char                          int8_t
Word          16       short                         int16_t
Doubleword    32       int, long                     int32_t
Quadword      64       long long                     int64_t
Byte          8        unsigned char                 uint8_t
Word          16       unsigned short                uint16_t
Doubleword    32       unsigned int, unsigned long   uint32_t
Quadword      64       unsigned long long            uint64_t
Doubleword    32       float                         -
Quadword      64       double                        -

// -------------------------------------------------------------

SIMD-типы:
xmmword - 16 байт
ymmword - 32 байта
zmmword - 64 байта

SIMD-типы можно рассматривать как контейнер, который содержит несколько базовых типов, поэтому SIMD-типы называются packed.
Программист кладёт несколько базовых типов в SIMD-тип и выполняет специальные инструкции с ними.

Сколько базовых типов вмещается в один SIMD-тип:

Числовой тип        xmmword   ymmword   zmmword
-----------------------------------------------
8-битовый int       16        32        64
16-битовый int      8         16        32
32-битовый int      4         8         16
64-битовый int      2         4         8
32-битовый float    4         8         16
64-битовый double   2         4         8

// -------------------------------------------------------------

Дополнительные типы данных:
- Строка - тип, реализованный на основе определённого числа последовательных базовых типов
- Битовое поле (bit fields) - последовательность бит, которая используется в качестве маски некоторыми инструкциями.
  Битовое поле может начинаться с любого бита внутри байта и содержать до 32 бит.
- Битовая строка (bit strings) - последовательность бит, которая может содержать до 2^32-1 (4 294 967 295‬) бит.
  В x86 есть инструкции, которые позволяют clear, set, scan и test отдельные биты в битовых строках.

// -------------------------------------------------------------

x86_64 делится на следующие компоненты:
- Регистры общего назначения (РОН)
- Регистр флагов RFLAGS
- Instruction Pointer регистр RIP
- XMM-регистры
- MXCSR (SIMD Floating-Point Control/Status Register)

Для минимально работающей программы достаточно РОН, RFLAGS и RIP. Остальные регистры (XMM, YMM, ZMM, MXCSR и тд.) - опциональны.

Любой процессор на x86_64 обязательно поддерживает как минимум SSE2 и 16 128-битных XMM-регистра.
Эти регистры также можно использовать для выполнения SIMD-инструкций над упакованными (packed) типами данных.

<img src="images/asm/x86_64_arch.png" class="figure-img img-fluid">
<img src="images/asm/x86_64_gen_purp_regs.png" class="figure-img img-fluid">